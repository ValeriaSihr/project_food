{"version":3,"file":"commonHelpers2.js","sources":["../src/js/api.js","../src/js/cards.js","../src/js/render.js"],"sourcesContent":["import axios from 'axios';\n// axios.defaults.baseURL = 'https://food-boutique.b.goit.study/api'; перевизначає базовий URL globaly\nconst apiFoodBoutique = axios.create({\n  baseURL: 'https://food-boutique.b.goit.study/api',\n});\n\nconst fetchProducts = async endpoint => {\n  try {\n    const { data } = await apiFoodBoutique(endpoint);\n    return data;\n  } catch (error) {\n    console.log(error.message);\n  }\n};\n\nexport const getAllProducts = async () => {\n  const endpoint = '/products';\n  return await fetchProducts(endpoint);\n};\n// getAllProducts().then(console.log);\n\nexport const getPopularProducts = async () => {\n  const endpoint = '/products/popular';\n  return await fetchProducts(endpoint);\n};\ngetPopularProducts().then(console.log);\n\nexport const getDiscountProducts = async () => {\n  const endpoint = '/products/discount';\n  const data = await fetchProducts(endpoint);\n  const random = data.sort(() => Math.random() * 2).slice(0, 2);\n  console.log(random);\n  return random;\n  // return await fetchProducts(endpoint);\n};\ngetDiscountProducts().then(console.log);\n// get only 2 prod randomly!\n","import { getAllProducts } from './api';\nimport { getPopularProducts } from './api';\nimport { getDiscountProducts } from './api';\n\nexport const mainCardsMarkup = async () => {\n  const { results } = await getAllProducts();\n\n  const markup = results\n    .map(\n      ({ category, img, is10PercentOff, name, popularity, price, size, _id }) =>\n        `<li>\n  <div class=\"card-img\"><img src=\"${img}\" alt=\"${name}\" /></div>\n  <div class=\"description\">\n    <h3>${name}</h3>\n    \n      <span>Category: </span><span>${category.split('_').join(' ')}</span>\n      <span>Size: </span><span>${size}</span>\n      <span>Popularity: </span><span>${popularity}</span>\n    \n  </div>\n  <div class=\"to-cart\">\n    <p>${price}</p>\n    <button class=\"cart-btn\" type=\"button\">\n    <svg class=\"cart-svg\" width=\"18\" height=\"18\">\n    <use href=\"../img/icons.svg#icon-heroicons-solid_shopping-cart\"></use></svg>\n    </button>\n  </div>\n</li>\n  `\n    )\n    .join('');\n\n  const cardList = document.createElement('ul');\n  // cardList.insertAdjacentHTML('beforeend', markup);\n  cardList.innerHTML = markup;\n\n  return cardList;\n};\n\nexport const popularProdMarkup = async () => {\n  const results = await getPopularProducts();\n  console.log(results);\n  const markup = results\n    .map(\n      ({\n        category,\n        img,\n        is10PercentOff,\n        name,\n        popularity,\n        price,\n        size,\n        _id,\n      }) => `<li>\n  <div class=\"\"><img src=\"${img}\" alt=\"${name}\" /></div>\n  <div class=\"\">\n    <h3>${name}</h3>\n    \n      <span>Category: </span><span>${category.split('_').join(' ')}</span>\n      <span>Size: </span><span>${size}</span>\n      <span>Popularity: </span><span>${popularity}</span>\n    \n  </div>\n  <div class=\"\">\n    <button class=\"\" type=\"button\">\n    <svg class=\"\" width=\"18\" height=\"18\">\n    <use href=\"../img/icons.svg#icon-heroicons-solid_shopping-cart\"></use></svg>\n    </button>\n  </div>\n</li>\n  `\n    )\n    .join('');\n  const popularProdList = document.createElement('ul');\n  popularProdList.innerHTML = markup;\n  return popularProdList;\n};\n\nexport const discountProdMarkup = async () => {\n  const results = await getDiscountProducts();\n  const markup = results\n    .map(\n      ({ category, img, is10PercentOff, name, popularity, price, size, _id }) =>\n        `<li>\n  <div class=\"card-img\"><img src=\"${img}\" alt=\"${name}\" /></div>\n  <div class=\"description\">\n    <h3>${name}</h3>\n  </div>\n  <div class=\"to-cart\">\n    <p>${price}</p>\n    <button class=\"cart-btn\" type=\"button\">\n    <svg class=\"cart-svg\" width=\"18\" height=\"18\">\n    <use href=\"../img/icons.svg#icon-heroicons-solid_shopping-cart\"></use></svg>\n    </button>\n  </div>\n</li>\n  `\n    )\n    .join('');\n  const discountProdList = document.createElement('ul');\n  discountProdList.innerHTML = markup;\n  return discountProdList;\n};\n","import { mainCardsMarkup } from './cards';\nimport { popularProdMarkup } from './cards';\nimport { discountProdMarkup } from './cards';\n\nconst allProducts = document.querySelector('.main-cards');\nconst popularProducts = document.querySelector('.popular');\nconst discountProducts = document.querySelector('.discount');\n\nasync function render() {\n  const mainCards = await mainCardsMarkup();\n\n  allProducts.insertAdjacentElement('beforeend', mainCards);\n\n  const title = document.createElement('h2');\n  title.textContent = 'All Products';\n  title.classList.add('hiden-title');\n  allProducts.insertAdjacentElement('afterbegin', title);\n\n  // to do from cards arter functions\n  const popularCards = await popularProdMarkup();\n\n  popularProducts.insertAdjacentElement('beforeend', popularCards);\n  const titlePop = document.createElement('h2');\n  titlePop.textContent = 'Popular Products';\n  popularProducts.insertAdjacentElement('afterbegin', titlePop);\n\n  const discountCards = await discountProdMarkup();\n\n  discountProducts.insertAdjacentElement('beforeend', discountCards);\n  const titleDisc = document.createElement('h2');\n  titleDisc.textContent = 'Discount Products';\n  discountProducts.insertAdjacentElement('afterbegin', titleDisc);\n  // to do\n}\nrender();\n"],"names":["apiFoodBoutique","axios","fetchProducts","endpoint","data","error","getAllProducts","getPopularProducts","getDiscountProducts","random","mainCardsMarkup","results","markup","category","img","is10PercentOff","name","popularity","price","size","_id","cardList","popularProdMarkup","popularProdList","discountProdMarkup","discountProdList","allProducts","popularProducts","discountProducts","render","mainCards","title","popularCards","titlePop","discountCards","titleDisc"],"mappings":"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"}