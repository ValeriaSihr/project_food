{"version":3,"file":"commonHelpers2.js","sources":["../src/js/api.js","../src/js/modal.js","../src/js/cards.js","../src/js/render.js"],"sourcesContent":["import axios from 'axios';\n// axios.defaults.baseURL = 'https://food-boutique.b.goit.study/api'; перевизначає базовий URL globaly\nconst apiFoodBoutique = axios.create({\n  baseURL: 'https://food-boutique.b.goit.study/api',\n});\n\nconst fetchProducts = async endpoint => {\n  try {\n    const { data } = await apiFoodBoutique(endpoint);\n    return data;\n  } catch (error) {\n    console.log(error.message);\n  }\n};\n\nexport const getAllProducts = async () => {\n  const endpoint = '/products';\n  return await fetchProducts(endpoint);\n};\n// getAllProducts().then(console.log);\n\nexport const getPopularProducts = async () => {\n  const endpoint = '/products/popular';\n  return await fetchProducts(endpoint);\n};\n// getPopularProducts().then(console.log);\n\nexport const getDiscountProducts = async () => {\n  const endpoint = '/products/discount';\n  const data = await fetchProducts(endpoint);\n  const random = data.sort(() => Math.random() * 2).slice(0, 2);\n  // console.log(random);\n  return random;\n  // return await fetchProducts(endpoint);\n};\n// getDiscountProducts().then(console.log);\n// get only 2 prod randomly!\n// if nothing else to do smart we are going to make beatiful shit\n\nexport const getProdById = async (id = '640c2dd963a319ea671e36ba') => {\n  const endpoint = `/products/${id}`;\n  return await fetchProducts(endpoint);\n};\n// getProdById('640c2dd963a319ea671e3861').then(console.log);\n","import { getProdById } from './api';\n\nconst modal = document.querySelector('[data-modal]');\nconst btnClose = document.querySelector('.close-modal');\n\nconst closeModal = () => {\n  modal.classList.add('is-hidden');\n};\n\nbtnClose.addEventListener('click', closeModal);\n\nexport const openModal = async id => {\n  modal.classList.remove('is-hidden');\n\n  const product = await getProdById(id);\n\n  const { category, img, is10PercentOff, name, popularity, price, size } =\n    product;\n  const picture = document.createElement('img');\n  picture.src = img;\n  picture.alt = name;\n  picture.classList.add('card-img');\n\n  const cost = document.createElement('p');\n  cost.innerHTML = is10PercentOff\n    ? `<span class=\"old-price\">${Math.round(price / 0.9, 2)}</span> ${price}`\n    : price;\n\n  const button = document.createElement('button');\n  button.setAttribute('type', 'button');\n  button.textContent = 'Add to';\n  const cartSvg = document.createElement('svg');\n  const useSvg = document.createElement('use');\n  useSvg.setAttribute(\n    'href',\n    '../img/icons.svg#icon-heroicons-solid_shopping-cart'\n  );\n  // useSvg.href = '../img/icons.svg#icon-heroicons-solid_shopping-cart'; can be used sometimes\n  cartSvg.insertAdjacentElement('beforeend', useSvg);\n  button.insertAdjacentElement('beforeend', cartSvg);\n\n  console.log(product.name);\n};\n// name(h3), descr, categories\n","import { getAllProducts } from './api';\nimport { getPopularProducts } from './api';\nimport { getDiscountProducts } from './api';\nimport { openModal } from './modal';\n\nexport const mainCardsMarkup = async () => {\n  const { results } = await getAllProducts();\n\n  const markup = results\n    .map(\n      ({ category, img, is10PercentOff, name, popularity, price, size, _id }) =>\n        `<li class=\"list-card-style\" data-product-id=\"${_id}\">\n        \n          <svg class=\"disc-icon-svg ${\n            is10PercentOff ? 'icon-visible' : 'icon-hidden'\n          }\" width=\"60\" height=\"60\">\n              <use href=\"../img/icons.svg#icon-discount\"></use>\n            </svg> \n        \n  <div class=\"card-img\"><img class=\"picture\" src=\"${img}\" alt=\"${name}\" /></div>\n  <div class=\"description\">\n    <h3 class=\"product-name\">${name}</h3>\n\n    <span class=\"prod-info\">Category: </span><span class=\"prod-info-api\"> ${category\n      .split('_')\n      .join(' ')}</span>\n    <span class=\"prod-info\">Size: </span><span class=\"prod-info-api\"> ${size}</span>\n    <span class=\"prod-info\">Popularity: </span><span class=\"prod-info-api\"> ${popularity}</span>\n  </div>\n  <div class=\"to-cart\">\n    <p class=\"price\"> &dollar;${price}</p>\n    <button class=\"cart-btn\" type=\"button\">\n      <svg class=\"cart-svg\" width=\"18\" height=\"18\">\n        <use href=\"./img/icons.svg#icon-heroicons-solid_shopping-cart\"></use>\n      </svg>\n    </button>\n  </div>\n</li>`\n    )\n    .join('');\n\n  const cardList = document.createElement('ul');\n  // cardList.insertAdjacentHTML('beforeend', markup);\n  cardList.innerHTML = markup;\n  // cardList.addEventListener('click', event => {\n  //   if (event.target.nodeName === 'UL') {\n  //     return;\n  //   }\n  //   if (\n  //     event.target.nodeName === 'BUTTON' ||\n  //     event.target.nodeName === 'svg' ||\n  //     event.target.nodeName === 'use'\n  //   ) {\n  //     return;\n  //   }\n  //   const liArr = cardList.querySelectorAll('.list-card-style');\n\n  //   console.log(event.currentTarget);\n  //   openModal();\n  // });\n  const liArr = cardList.querySelectorAll('.list-card-style');\n  liArr.forEach(li => {\n    li.addEventListener('click', event => {\n      if (\n        event.target.nodeName === 'BUTTON' ||\n        event.target.nodeName === 'svg' ||\n        event.target.nodeName === 'use'\n      ) {\n        return;\n      }\n      const productId = li.dataset.productId;\n      openModal(productId);\n    });\n  });\n  return cardList;\n};\n// повісити айді і додати слухача\nexport const popularProdMarkup = async () => {\n  const results = await getPopularProducts();\n  // console.log(results);\n  const markup = results\n    .map(\n      ({\n        category,\n        img,\n        is10PercentOff,\n        name,\n        popularity,\n        price,\n        size,\n        _id,\n      }) => `<li class=\"popular-card-style\">\n  <div class=\"popular-img\"><img class=\"pop-picture\" src=\"${img}\" alt=\"${name}\" /></div>\n  \n  <div class=\"popular-description\">\n    <h3 class=\"product-name\">${name}</h3>\n    \n      <span class=\"prod-info\">Category: </span><span class=\"prod-info-api\">${category\n        .split('_')\n        .join(' ')}</span>\n      <span class=\"prod-info\">Size: </span><span class=\"prod-info-api\">${size}</span>\n      <span class=\"prod-info\">Popularity: </span><span class=\"prod-info-api\">${popularity}</span>\n    \n  </div>\n  <div class=\"popular-btn\">\n    <button class=\"popular-btn-cart\" type=\"button\">\n    <svg class=\"popular-btn-svg\" width=\"18\" height=\"18\">\n    <use href=\"../img/icons.svg#icon-heroicons-solid_shopping-cart\"></use></svg>\n    </button>\n  </div>\n</li>\n  `\n    )\n    .join('');\n  const popularProdList = document.createElement('ul');\n  popularProdList.innerHTML = markup;\n  const popCardArr = popularProdList.querySelectorAll('.popular-card-style');\n  popCardArr.forEach(li => {\n    li.addEventListener('click', event => {\n      if (\n        event.target.nodeName === 'BUTTON' ||\n        event.target.nodeName === 'svg' ||\n        event.target.nodeName === 'use'\n      ) {\n        return;\n      }\n      const productId = li.dataset.productId;\n      openModal(productId);\n    });\n  });\n\n  return popularProdList;\n};\n\nexport const discountProdMarkup = async () => {\n  const results = await getDiscountProducts();\n  const markup = results\n    .map(\n      ({ category, img, is10PercentOff, name, popularity, price, size, _id }) =>\n        `<li class=\"discount-svg\">\n        <div>\n        <svg class=\"disc-icon-svg\" width=\"60\" height=\"60\">\n  <use href=\"../img/icons.svg#icon-discount\"></use>\n</svg>\n</div>\n  <div class=\"card-img\"><img src=\"${img}\" alt=\"${name}\" /></div>\n  <div>\n    <h3 class=\"product-name\">${name}</h3>\n  </div>\n  <div class=\"to-cart\">\n    <p class=\"discount-price\">&dollar;${price}</p>\n    <button class=\"cart-btn\" type=\"button\">\n    <svg class=\"cart-svg\" width=\"18\" height=\"18\">\n    <use href=\"../img/icons.svg#icon-heroicons-solid_shopping-cart\"></use></svg>\n    </button>\n  </div>\n</li>\n  `\n    )\n    .join('');\n  const discountProdList = document.createElement('ul');\n  discountProdList.innerHTML = markup;\n  const discCardArr = discountProdList.querySelectorAll('.discount-svg');\n  discCardArr.forEach(li => {\n    li.addEventListener('click', event => {\n      if (\n        event.target.nodeName === 'BUTTON' ||\n        event.target.nodeName === 'svg' ||\n        event.target.nodeName === 'use'\n      ) {\n        return;\n      }\n      const productId = li.dataset.productId;\n      openModal(productId);\n    });\n  });\n\n  return discountProdList;\n};\n","import { mainCardsMarkup } from './cards';\nimport { popularProdMarkup } from './cards';\nimport { discountProdMarkup } from './cards';\n\nconst allProducts = document.querySelector('.main-cards');\nconst popularProducts = document.querySelector('.popular');\nconst discountProducts = document.querySelector('.discount');\n\nasync function render() {\n  const mainCards = await mainCardsMarkup();\n\n  allProducts.insertAdjacentElement('beforeend', mainCards);\n\n  const title = document.createElement('h2');\n  title.textContent = 'All Products';\n  title.classList.add('hiden-title');\n  allProducts.insertAdjacentElement('afterbegin', title);\n\n  // to do from cards arter functions\n  const popularCards = await popularProdMarkup();\n\n  popularProducts.insertAdjacentElement('beforeend', popularCards);\n  const titlePop = document.createElement('h2');\n  titlePop.textContent = 'Popular Products';\n  popularProducts.insertAdjacentElement('afterbegin', titlePop);\n\n  const discountCards = await discountProdMarkup();\n\n  discountProducts.insertAdjacentElement('beforeend', discountCards);\n  const titleDisc = document.createElement('h2');\n  titleDisc.textContent = 'Discount Products';\n  discountProducts.insertAdjacentElement('afterbegin', titleDisc);\n  // to do\n}\nrender();\n"],"names":["apiFoodBoutique","axios","fetchProducts","endpoint","data","error","getAllProducts","getPopularProducts","getDiscountProducts","getProdById","id","modal","btnClose","closeModal","openModal","product","category","img","is10PercentOff","name","popularity","price","size","picture","cost","button","cartSvg","useSvg","mainCardsMarkup","results","markup","_id","cardList","li","event","productId","popularProdMarkup","popularProdList","discountProdMarkup","discountProdList","allProducts","popularProducts","discountProducts","render","mainCards","title","popularCards","titlePop","discountCards","titleDisc"],"mappings":"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"}